---
import RenderBlocks from "@astro-default/components/RenderBlocks/RenderBlocks.astro";
import QuineLayout from "@/layouts/QuineLayout.astro";
import { payloadQuery } from "@/utils/payloadQuery";

export async function getStaticPaths() {
  const pages = await payloadQuery.find({
    collection: "pages",
  });

  return pages.docs.map((page) => ({
    params: { slug: page.slug },
    props: { page: page },
  }));
}

const { page } = Astro.props;
---

<QuineLayout title={page.title}>
  <RenderBlocks blocks={page.contentBlocks} />
</QuineLayout>
